(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{u6HQ:function(e,t,n){"use strict";n.r(t),n.d(t,"TeamModule",(function(){return Je}));var a=n("Ip0R"),o=n("IFHH"),i=n("K9Ia"),r=n("ny24"),c=n("gIcY"),l=n("Qy+B"),s=n("CcnG"),d=n("PjAl"),b=n("mrSG"),p=n("AytR"),m=n("9Z1F"),u=n("6iLJ"),g=n("t/Na"),f=function(e){function t(t){var n=e.call(this)||this;return n.http=t,n}return Object(b.d)(t,e),t.prototype.getTeamsByDomain=function(t){return this.http.get(p.a.apiUrl+"/team",{params:{domain:t}}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.getTeam=function(t){return this.http.get(p.a.apiUrl+"/team/"+t,{params:{resolveMembers:"true"}}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.createTeam=function(t,n){return this.http.post(p.a.apiUrl+"/team/create",{name:n,domain:t}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.updateTeam=function(t,n,a){return this.http.patch(p.a.apiUrl+"/team/"+t,{name:n,active:a}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.addTeamMember=function(t,n){return this.http.patch(p.a.apiUrl+"/team/member/add/"+t,{member:n}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.inviteTeamMember=function(t,n){return this.http.patch(p.a.apiUrl+"/team/member/invite/"+t,{email:n}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.removeTeamMember=function(t,n){return this.http.patch(p.a.apiUrl+"/team/member/remove/"+t,{member:n}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.removeTeamRole=function(t,n){return this.http.patch(p.a.apiUrl+"/team/role/remove/"+t,{role:n}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.deleteTeam=function(t){return this.http.delete(p.a.apiUrl+"/team/"+t).pipe(Object(m.a)(e.prototype.handleError))},t.\u0275fac=function(e){return new(e||t)(s.gc(g.c))},t.\u0275prov=s.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(u.a),h=n("xe3K"),v=n("GruC");function y(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",5),s.Yb(1,"div",6),s.Yb(2,"button",7),s.kc("click",(function(){return s.Ec(n),s.oc().createTeam()})),s.nc(),s.Yb(3,"svg",8),s.Tb(4,"path",9),s.Xb(),s.Nc(5,"Create "),s.Xb(),s.mc(),s.Yb(6,"mat-form-field",10),s.Tb(7,"input",11,12),s.Xb(),s.Xb(),s.Xb()}if(2&e){var a=s.Cc(8),o=s.oc();s.Db(2),s.uc("disabled",a.value.length<2||!o.creatable),s.Db(5),s.uc("formControl",o.teamFormControl)}}function C(e,t){1&e&&s.Tb(0,"span",13)}function O(e,t){if(1&e&&(s.Yb(0,"div",14),s.Nc(1),s.Xb()),2&e){var n=s.oc();s.Db(1),s.Oc(n.error)}}function x(e,t){if(1&e&&(s.Yb(0,"div"),s.Tb(1,"app-team-preview",16),s.Xb()),2&e){var n=t.$implicit,a=s.oc(3);s.Db(1),s.uc("team",n)("teamListComponent",a)("removable",a.removable)("updatable",a.updatable)}}function M(e,t){if(1&e&&(s.Yb(0,"div"),s.Lc(1,x,2,4,"div",15),s.Xb()),2&e){var n=s.oc(2);s.Db(1),s.uc("ngForOf",n.teams)}}function k(e,t){if(1&e&&(s.Yb(0,"div"),s.Lc(1,M,2,1,"div",4),s.Xb()),2&e){var n=s.oc();s.Db(1),s.uc("ngIf",!n.loading)}}var w=function(){function e(e,t,n,a){this.adminService=e,this.teamService=t,this.domainRouteService=n,this.toastService=a,this.unsubscribe=new i.a,this.teamFormControl=new c.g("",[c.F.required,c.F.minLength(2)]),this.loading=!1,this.error="",this.readable=!1,this.updatable=!1,this.removable=!1,this.creatable=!1}return e.prototype.ngOnInit=function(){this.loadTeams()},e.prototype.loadTeams=function(){var e=this;this.loading=!0,this.error="",this.readPermissionToObject(),this.teamService.getTeamsByDomain(this.domainRouteService.getPathElement(o.b.SELECTED_DOMAIN).id).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.teams=t)}),(function(t){l.a.printError(t),e.loading=!1}),(function(){e.teams||(e.error="Failed to connect to Switcher API"),e.loading=!1}))},e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.prototype.readPermissionToObject=function(){var e=this,t=this.domainRouteService.getPathElement(o.b.SELECTED_DOMAIN);this.adminService.readCollabPermission(t.id,["READ","CREATE","UPDATE","DELETE"],"ADMIN","name",t.name).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t.length&&t.forEach((function(t){"UPDATE"===t.action?e.updatable="ok"===t.result:"DELETE"===t.action?e.removable="ok"===t.result:"CREATE"===t.action?e.creatable="ok"===t.result:"READ"===t.action&&(e.readable="ok"===t.result)}))}))},e.prototype.createTeam=function(){var e=this;this.teamFormControl.valid?this.teamService.createTeam(this.domainRouteService.getPathElement(o.b.SELECTED_DOMAIN).id,this.teamFormControl.value).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.teams.push(t),e.toastService.showSuccess("Team created with success"))}),(function(t){e.toastService.showError(t.error)})):this.toastService.showError("Unable to create this team")},e.prototype.removeTeamFromList=function(e){this.teams=this.teams.filter((function(t){return t._id!=e._id}))},e.\u0275fac=function(t){return new(t||e)(s.Sb(d.a),s.Sb(f),s.Sb(h.a),s.Sb(v.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-team"]],decls:5,vars:4,consts:[["class","header-style",4,"ngIf"],[2,"text-align","center"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[4,"ngIf"],[1,"header-style"],[2,"display","flex"],["mat-button","",1,"btn-element","create",3,"disabled","click"],["width","1em","height","1em","viewBox","0 0 20 20","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"svg-style"],["fill-rule","evenodd","d","M2.102 4.223A3.004 3.004 0 005 8c.27 0 .532-.036.78-.103l6.342 6.252A3.003 3.003 0 0015 18a3 3 0 10-.851-5.878L7.897 5.781A3.004 3.004 0 004.223 2.1l2.141 2.142L6 6l-1.757.364-2.141-2.141zm13.37 9.019L15 13l-.471.242-.529.026-.287.445-.445.287-.026.529L13 15l.242.471.026.529.445.287.287.445.529.026L15 17l.471-.242.529-.026.287-.445.445-.287.026-.529L17 15l-.242-.471-.026-.529-.445-.287-.287-.445-.529-.026z","clip-rule","evenodd"],[2,"padding-left","14px"],["matInput","","placeholder","Team name","maxlength","30",3,"formControl"],["inputTeamName",""],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"alert","alert-danger","mt-3","mb-0"],[4,"ngFor","ngForOf"],[3,"team","teamListComponent","removable","updatable"]],template:function(e,t){1&e&&(s.Lc(0,y,9,2,"div",0),s.Yb(1,"div",1),s.Lc(2,C,1,0,"span",2),s.Xb(),s.Lc(3,O,2,1,"div",3),s.Lc(4,k,2,1,"div",4)),2&e&&(s.uc("ngIf",t.teams),s.Db(2),s.uc("ngIf",t.loading),s.Db(1),s.uc("ngIf",t.error),s.Db(1),s.uc("ngIf",!t.error))},styles:[".btn-element[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block;font-size:16px;background:#549bfb;color:#fff}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}.header-style[_ngcontent-%COMP%]{display:inherit;padding-top:10px}.environment-style[_ngcontent-%COMP%]{float:right;margin-top:-10px}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}[_nghost-%COMP%]     .card.mt-4.loading{opacity:0}[_nghost-%COMP%]     .card.mt-4.ready{opacity:1}@media only screen and (max-width:600px){.header-style[_ngcontent-%COMP%]{display:grid}.environment-style[_ngcontent-%COMP%]{float:right;margin-top:10px}}",".btn-element.create[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-top:10px}"]}),e}(),P=n("5YYS"),_=n("ZYCi"),S=n("dlst"),D=n("UTvR"),E=n("Ci9w"),Y=n("M4kG");function X(e,t){1&e&&(s.Yb(0,"mat-error"),s.Nc(1," Name must contains at least 2 characters "),s.Xb())}function T(e,t){1&e&&(s.Yb(0,"mat-error"),s.Nc(1," Name is "),s.Yb(2,"strong"),s.Nc(3,"required"),s.Xb(),s.Xb())}var I=function(){return{color:"black"}},L=function(){function e(e,t,n){this.router=e,this.teamService=t,this.toastService=n,this.unsubscribe=new i.a,this.updatable=!1,this.removable=!1,this.nameFormControl=new c.g("",[c.F.required,c.F.minLength(2)]),this.toggleSectionStyle="toggle-style deactivated"}return e.prototype.ngOnInit=function(){this.nameFormControl.setValue(this.team.name)},e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.prototype.getTeamName=function(){return this.team.name},e.prototype.getTeam=function(){return this.team},e.prototype.selectTeam=function(){this.router.navigate(["/dashboard/domain/team/detail"],{state:{team:JSON.stringify(this.team)}})},e.prototype.removeTeam=function(){var e=this;this.blockUI.start("Removing team..."),this.teamService.deleteTeam(this.team._id).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.teamListComponent.removeTeamFromList(t),e.blockUI.stop(),e.toastService.showSuccess("Team removed with success"))}),(function(t){e.blockUI.stop(),l.a.printError(t),e.toastService.showError("Unable to remove team: '"+e.team.name+"'")}))},e.prototype.edit=function(){var e=this;this.editing?this.nameFormControl.valid&&(this.editing=!1,this.blockUI.start("Updating Team..."),this.teamService.updateTeam(this.team._id,this.nameFormControl.value,this.team.active?"true":"false").pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.team=t,e.blockUI.stop(),e.toastService.showSuccess("Team updated with success"))}),(function(t){e.blockUI.stop(),l.a.printError(t),e.toastService.showError("Unable to update team: '"+e.team.name+"'")}))):this.editing=!0},e.prototype.changeStatus=function(e){var t=this;this.blockUI.start("Updating status..."),this.teamService.updateTeam(this.team._id,this.team.name,e.checked?"true":"false").pipe(Object(r.a)(this.unsubscribe)).subscribe((function(e){e&&(t.team=e,t.blockUI.stop(),t.toastService.showSuccess("Team updated with success"))}),(function(e){t.blockUI.stop(),l.a.printError(e),t.toastService.showError("Unable to update team: '"+t.team.name+"'")}))},e.\u0275fac=function(t){return new(t||e)(s.Sb(_.b),s.Sb(f),s.Sb(v.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-team-preview"]],inputs:{team:"team",teamListComponent:"teamListComponent",updatable:"updatable",removable:"removable"},decls:29,vars:16,consts:[[1,"detail-body"],[1,"header-container"],[1,"description",2,"width","350px"],["matInput","","placeholder","Name","autocomplete","off",3,"readonly","ngStyle","formControl"],[4,"ngIf"],[1,"options-section"],[1,"toggle-section"],[3,"checked","ngClass","disabled","change"],["mat-button","",1,"btn-element","btn-edit",3,"click"],["width","1em","height","1em","viewBox","0 0 20 20","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"svg-style"],["fill-rule","evenodd","d","M18 10s-3-5.5-8-5.5S2 10 2 10s3 5.5 8 5.5 8-5.5 8-5.5zM3.173 10a13.133 13.133 0 001.66 2.043C6.12 13.332 7.88 14.5 10 14.5c2.12 0 3.879-1.168 5.168-2.457A13.133 13.133 0 0016.828 10a13.133 13.133 0 00-1.66-2.043C13.879 6.668 12.119 5.5 10 5.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 003.172 10z","clip-rule","evenodd"],["fill-rule","evenodd","d","M10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5zM6.5 10a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z","clip-rule","evenodd"],[1,"options-section-label"],["mat-button","",3,"ngClass","disabled","click"],["fill-rule","evenodd","d","M2.102 4.223A3.004 3.004 0 005 8c.27 0 .532-.036.78-.103l6.342 6.252A3.003 3.003 0 0015 18a3 3 0 10-.851-5.878L7.897 5.781A3.004 3.004 0 004.223 2.1l2.141 2.142L6 6l-1.757.364-2.141-2.141zm13.37 9.019L15 13l-.471.242-.529.026-.287.445-.445.287-.026.529L13 15l.242.471.026.529.445.287.287.445.529.026L15 17l.471-.242.529-.026.287-.445.445-.287.026-.529L17 15l-.242-.471-.026-.529-.445-.287-.287-.445-.529-.026z","clip-rule","evenodd"],["mat-button","",1,"btn-element","btn-remove",3,"disabled","click"],["d","M7.5 7.5A.5.5 0 018 8v6a.5.5 0 01-1 0V8a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V8a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V8z"],["fill-rule","evenodd","d","M16.5 5a1 1 0 01-1 1H15v9a2 2 0 01-2 2H7a2 2 0 01-2-2V6h-.5a1 1 0 01-1-1V4a1 1 0 011-1H8a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM6.118 6L6 6.059V15a1 1 0 001 1h6a1 1 0 001-1V6.059L13.882 6H6.118zM4.5 5V4h11v1h-11z","clip-rule","evenodd"]],template:function(e,t){1&e&&(s.Yb(0,"block-ui"),s.Yb(1,"div",0),s.Yb(2,"section"),s.Yb(3,"div",1),s.Yb(4,"div",2),s.Yb(5,"mat-form-field"),s.Tb(6,"input",3),s.Xb(),s.Lc(7,X,2,0,"mat-error",4),s.Lc(8,T,4,0,"mat-error",4),s.Xb(),s.Yb(9,"div",5),s.Yb(10,"div",6),s.Yb(11,"mat-slide-toggle",7),s.kc("change",(function(e){return t.changeStatus(e)})),s.Xb(),s.Xb(),s.Yb(12,"button",8),s.kc("click",(function(){return t.selectTeam()})),s.nc(),s.Yb(13,"svg",9),s.Tb(14,"path",10),s.Tb(15,"path",11),s.Xb(),s.mc(),s.Yb(16,"div",12),s.Nc(17,"View"),s.Xb(),s.Xb(),s.Yb(18,"button",13),s.kc("click",(function(){return t.edit()})),s.nc(),s.Yb(19,"svg",9),s.Tb(20,"path",14),s.Xb(),s.mc(),s.Yb(21,"div",12),s.Nc(22),s.Xb(),s.Xb(),s.Yb(23,"button",15),s.kc("click",(function(){return t.removeTeam()})),s.nc(),s.Yb(24,"svg",9),s.Tb(25,"path",16),s.Tb(26,"path",17),s.Xb(),s.mc(),s.Yb(27,"div",12),s.Nc(28,"Remove"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&e&&(s.Db(2),s.Fb(t.getTeam().active?"header activated":"header deactivated"),s.Db(4),s.vc("readonly",!t.editing),s.uc("ngStyle",t.editing?s.xc(15,I):"")("formControl",t.nameFormControl),s.Db(1),s.uc("ngIf",t.nameFormControl.hasError("minlength")),s.Db(1),s.uc("ngIf",t.nameFormControl.hasError("required")),s.Db(3),s.uc("checked",t.getTeam().active)("ngClass",t.updatable?"toggle-style":"toggle-style deactivated")("disabled",!t.updatable),s.Db(7),s.uc("ngClass",t.editing?"btn-element save btn-edit":"btn-element btn-edit")("disabled",!t.updatable),s.Db(4),s.Oc(t.editing?"Save":"Edit"),s.Db(1),s.uc("disabled",!t.removable))},directives:[P.b,S.c,D.b,c.c,a.x,c.r,c.h,a.u,E.a,a.r,Y.b,S.b],styles:['.header-section[_ngcontent-%COMP%]{grid-area:header;display:inline-flex;width:400px}.toggle-section[_ngcontent-%COMP%]{grid-area:toggle;display:inline-block;text-align:center}.toggle-section.deactivated[_ngcontent-%COMP%]{display:none}.toggle-style[_ngcontent-%COMP%]{margin-top:14px}.toggle-style.deactivated[_ngcontent-%COMP%]{display:none}.grid-container.activated[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);background:rgba(84,155,251,.58)}.grid-container.activated[_ngcontent-%COMP%], .grid-container.deactivated[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header empty empty empty empty toggle";grid-gap:2px;padding:2px;margin-bottom:10px}.grid-container.deactivated[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);background:#d0d0d0}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff}.btn-element.activated[_ngcontent-%COMP%]{color:#5298ff}.btn-element.activated[_ngcontent-%COMP%], .btn-element.deactivated[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block;font-size:24px;margin-left:0!important;margin-top:7px;margin-bottom:10px;margin-left:20px}.btn-element.deactivated[_ngcontent-%COMP%]{color:#595959}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#b0d2ff}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#549bfb}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-section[_ngcontent-%COMP%]{grid-area:header;display:inline-flex;width:100%}}',".header.activated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#549bfb 0,#549bfb 10px,#f7f7f7 0,#fff) no-repeat}.header.deactivated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#9e9e9e 0,#9e9e9e 10px,#f7f7f7 0,#fff) no-repeat}.header.editing[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f33 0,#f33 10px,#fff 0,#fff) no-repeat}.header[_ngcontent-%COMP%]{border-radius:2px;border:1px solid #eaeaea;font-size:16px;color:#666}.header-container[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.detail-body[_ngcontent-%COMP%]{padding-top:20px}.detail-body.loading[_ngcontent-%COMP%]{opacity:0}.detail-body.ready[_ngcontent-%COMP%]{opacity:1}.description[_ngcontent-%COMP%]{display:grid;align-self:start}.options-section[_ngcontent-%COMP%]{float:right;display:-webkit-inline-box}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}.btn-element[_ngcontent-%COMP%]{background:#549bfb}.btn-element[_ngcontent-%COMP%], .btn-element.save[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block ruby;font-size:16px;margin-top:7px;margin-left:10px;color:#fff}.btn-element.save[_ngcontent-%COMP%]{background:#2ec454}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-container[_ngcontent-%COMP%]{display:block;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.description[_ngcontent-%COMP%]{display:grid;align-self:start;width:90%!important}}@media only screen and (max-width:450px){.options-section[_ngcontent-%COMP%]{display:grid;float:none}}",".btn-remove[_ngcontent-%COMP%]{background:#fb5454;display:block ruby;margin-right:20px}.btn-edit[_ngcontent-%COMP%]{display:block ruby!important}.options-section-label[_ngcontent-%COMP%]{vertical-align:baseline!important;display:contents}.options-section[_ngcontent-%COMP%]{display:block ruby}.toggle-section[_ngcontent-%COMP%]{margin:auto;display:contents}.detail-body[_ngcontent-%COMP%]{padding-top:0;padding-bottom:20px}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#b0d2ff}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#549bfb}@media only screen and (max-width:1200px){.options-section[_ngcontent-%COMP%]{float:none;margin-top:-10px;margin-bottom:10px}}@media only screen and (max-width:450px){.options-section[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.options-section-label[_ngcontent-%COMP%]{display:none}}"]}),Object(b.c)([Object(P.a)()],e.prototype,"blockUI",void 0),e}(),j=n("PC/O"),U=n("67Y/"),F=function(){function e(){}return e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),R=n("v+WK"),A=n("4GxJ"),z=n("BqIw"),N=n("kfqd"),B=n("JeCn"),V=n("fPVg"),H=n("zZiN");function q(e,t){1&e&&s.Tb(0,"span",9)}function G(e,t){1&e&&s.Tb(0,"th",21)}function J(e,t){if(1&e){var n=s.Zb();s.Yb(0,"td",22),s.Yb(1,"button",23),s.kc("click",(function(){s.Ec(n);var e=t.$implicit;return s.oc(2).removeMember(e)})),s.Yb(2,"mat-icon",24),s.Nc(3,"close"),s.Xb(),s.Xb(),s.Xb()}if(2&e){var a=s.oc(2);s.Db(1),s.uc("disabled",!a.removable)}}function Z(e,t){1&e&&(s.Yb(0,"th",21),s.Nc(1,"Name"),s.Xb())}function $(e,t){if(1&e&&(s.Yb(0,"td",25),s.Nc(1),s.Xb()),2&e){var n=t.$implicit;s.Db(1),s.Oc(n.name)}}function K(e,t){1&e&&(s.Yb(0,"th",21),s.Nc(1,"Email"),s.Xb())}function W(e,t){if(1&e&&(s.Yb(0,"td",25),s.Nc(1),s.Xb()),2&e){var n=t.$implicit;s.Db(1),s.Oc(n.email)}}function Q(e,t){1&e&&s.Tb(0,"tr",26)}function ee(e,t){1&e&&s.Tb(0,"tr",27)}var te=function(){return[5,10,25,50]};function ne(e,t){if(1&e&&(s.Yb(0,"div",10),s.Yb(1,"table",11),s.Wb(2,12),s.Lc(3,G,1,0,"th",13),s.Lc(4,J,4,1,"td",14),s.Vb(),s.Wb(5,15),s.Lc(6,Z,2,0,"th",13),s.Lc(7,$,2,1,"td",16),s.Vb(),s.Wb(8,17),s.Lc(9,K,2,0,"th",13),s.Lc(10,W,2,1,"td",16),s.Vb(),s.Lc(11,Q,1,0,"tr",18),s.Lc(12,ee,1,0,"tr",19),s.Xb(),s.Tb(13,"mat-paginator",20),s.Xb()),2&e){var n=s.oc();s.Db(1),s.uc("dataSource",n.dataSource),s.Db(10),s.uc("matHeaderRowDef",n.dataColumns),s.Db(1),s.uc("matRowDefColumns",n.dataColumns),s.Db(1),s.uc("pageSizeOptions",s.xc(4,te))}}var ae=function(){function e(e,t){this.teamService=e,this.toastService=t,this.unsubscribe=new i.a,this.updatable=!1,this.creatable=!1,this.removable=!1,this.dataColumns=["remove","name","email"],this.loading=!1}return e.prototype.ngOnInit=function(){this.loadTeam()},e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.prototype.loadTeam=function(){var e=this;this.loading=!0,this.teamService.getTeam(this.team._id).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&e.loadDataSource(t.members)}),(function(t){l.a.printError(t),e.loading=!1}),(function(){e.loading=!1}))},e.prototype.loadDataSource=function(e){this.dataSource=new B.o(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},e.prototype.applyFilter=function(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()},e.prototype.inviteMember=function(e){var t=this;this.teamService.inviteTeamMember(this.team._id,e).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(e){e&&(t.loadTeam(),t.toastService.showSuccess("User invited with success"))}),(function(n){l.a.printError(n),t.toastService.showError("Unable to invite "+e+" - "+n.error)}))},e.prototype.removeMember=function(e){var t=this;this.teamService.removeTeamMember(this.team._id,e.id).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(e){e&&t.loadTeam()}),(function(n){l.a.printError(n),t.toastService.showError("Unable to remove "+e.name+" - "+n.error)}))},e.\u0275fac=function(t){return new(t||e)(s.Sb(f),s.Sb(v.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-team-members"]],viewQuery:function(e,t){var n;1&e&&(s.Jc(z.a,!0),s.Jc(N.a,!0)),2&e&&(s.Bc(n=s.lc())&&(t.sort=n.first),s.Bc(n=s.lc())&&(t.paginator=n.first))},inputs:{team:"team",updatable:"updatable",creatable:"creatable",removable:"removable"},decls:11,vars:3,consts:[[1,"filter-member-style"],["matInput","","placeholder","Filter / Email",3,"keyup"],["inputMember",""],["mat-button","",1,"btn-element",3,"disabled","click"],["width","1em","height","1em","viewBox","0 0 20 20","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"svg-style"],["fill-rule","evenodd","d","M2.102 4.223A3.004 3.004 0 005 8c.27 0 .532-.036.78-.103l6.342 6.252A3.003 3.003 0 0015 18a3 3 0 10-.851-5.878L7.897 5.781A3.004 3.004 0 004.223 2.1l2.141 2.142L6 6l-1.757.364-2.141-2.141zm13.37 9.019L15 13l-.471.242-.529.026-.287.445-.445.287-.026.529L13 15l.242.471.026.529.445.287.287.445.529.026L15 17l.471-.242.529-.026.287-.445.445-.287.026-.529L17 15l-.242-.471-.026-.529-.445-.287-.287-.445-.529-.026z","clip-rule","evenodd"],[2,"text-align","center"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","mat-elevation-z8",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"mat-elevation-z8"],["mat-table","","multiTemplateDataRows","","matSort","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource"],["matColumnDef","remove"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","width: 1px;",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell","",2,"width","1px"],["mat-icon-button","",3,"disabled","click"],["mat-list-icon",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"element-row"]],template:function(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",0),s.Yb(1,"mat-form-field"),s.Yb(2,"input",1,2),s.kc("keyup",(function(e){return t.applyFilter(e.target.value)})),s.Xb(),s.Xb(),s.Yb(4,"button",3),s.kc("click",(function(){s.Ec(n);var e=s.Cc(3);return t.inviteMember(e.value)})),s.nc(),s.Yb(5,"svg",4),s.Tb(6,"path",5),s.Xb(),s.Nc(7,"Invite "),s.Xb(),s.Xb(),s.mc(),s.Yb(8,"div",6),s.Lc(9,q,1,0,"span",7),s.Xb(),s.Lc(10,ne,14,5,"div",8)}if(2&e){var a=s.Cc(3);s.Db(4),s.uc("disabled",a.value.length<2||!t.creatable),s.Db(5),s.uc("ngIf",t.loading),s.Db(1),s.uc("ngIf",!t.loading)}},directives:[S.c,D.b,Y.b,a.u,B.n,z.a,B.c,B.i,B.b,B.k,B.m,N.a,B.h,B.a,V.a,H.c,B.j,B.l],styles:[".header.activated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#549bfb 0,#549bfb 10px,#f7f7f7 0,#fff) no-repeat}.header.deactivated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#9e9e9e 0,#9e9e9e 10px,#f7f7f7 0,#fff) no-repeat}.header.editing[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f33 0,#f33 10px,#fff 0,#fff) no-repeat}.header[_ngcontent-%COMP%]{border-radius:2px;border:1px solid #eaeaea;font-size:16px;color:#666}.header-container[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.detail-body[_ngcontent-%COMP%]{padding-top:20px}.detail-body.loading[_ngcontent-%COMP%]{opacity:0}.detail-body.ready[_ngcontent-%COMP%]{opacity:1}.description[_ngcontent-%COMP%]{display:grid;align-self:start}.options-section[_ngcontent-%COMP%]{float:right;display:-webkit-inline-box}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}.btn-element[_ngcontent-%COMP%]{background:#549bfb}.btn-element[_ngcontent-%COMP%], .btn-element.save[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block ruby;font-size:16px;margin-top:7px;margin-left:10px;color:#fff}.btn-element.save[_ngcontent-%COMP%]{background:#2ec454}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-container[_ngcontent-%COMP%]{display:block;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.description[_ngcontent-%COMP%]{display:grid;align-self:start;width:90%!important}}@media only screen and (max-width:450px){.options-section[_ngcontent-%COMP%]{display:grid;float:none}}",".filter-member-style[_ngcontent-%COMP%]{white-space:nowrap;display:block ruby;padding-top:10px}"]}),e}(),oe=n("4lrr"),ie=function(e){function t(t){var n=e.call(this)||this;return n.http=t,n}return Object(b.d)(t,e),t.prototype.getRolesByTeam=function(t){return this.http.get(p.a.apiUrl+"/role",{params:{team:t}}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.getRoleRouters=function(){return this.http.get(p.a.apiUrl+"/role/routers").pipe(Object(m.a)(e.prototype.handleError))},t.prototype.getRoleActions=function(){return this.http.get(p.a.apiUrl+"/role/actions").pipe(Object(m.a)(e.prototype.handleError))},t.prototype.getKeysByRouter=function(t){return this.http.get(p.a.apiUrl+"/role/spec/router/"+t).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.createRole=function(t,n,a,o,i){return this.http.post(p.a.apiUrl+"/role/create/"+t,o?{action:n,router:a,identifiedBy:o,values:i}:{action:n,router:a}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.updateRole=function(t,n,a,o,i){return void 0===i&&(i=!0),this.http.patch(p.a.apiUrl+"/role/"+t,{action:n,router:a,identifiedBy:o,active:i?"true":"false"}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.updateRoleValues=function(t,n){return this.http.patch(p.a.apiUrl+"/role/updateValues/"+t,{values:n}).pipe(Object(m.a)(e.prototype.handleError))},t.prototype.deleteRole=function(t){return this.http.delete(p.a.apiUrl+"/role/"+t).pipe(Object(m.a)(e.prototype.handleError))},t.\u0275fac=function(e){return new(e||t)(s.gc(g.c))},t.\u0275prov=s.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(u.a),re=n("LBDf"),ce=n("8KZq"),le=n("qLAh"),se=n("eO+G");function de(e,t){if(1&e&&(s.Yb(0,"mat-option",26),s.Nc(1),s.Xb()),2&e){var n=t.$implicit,a=s.oc();s.uc("value",n)("disabled",a.data.role),s.Db(1),s.Pc(" ",n," ")}}function be(e,t){if(1&e&&(s.Yb(0,"mat-option",26),s.Nc(1),s.Xb()),2&e){var n=t.$implicit,a=s.oc();s.uc("value",n)("disabled",a.data.role),s.Db(1),s.Pc(" ",n," ")}}function pe(e,t){if(1&e&&(s.Yb(0,"mat-list-option",27),s.Nc(1),s.Xb()),2&e){var n=t.$implicit;s.uc("value",n),s.Db(1),s.Pc(" ",n," ")}}var me=function(){function e(e,t,n,a,o){this.dialogRef=e,this.data=t,this.roleService=n,this.formBuilder=a,this.toastService=o,this.unsubscribe=new i.a,this.routers=[],this.actions=[],this.routerFormControl=new c.g("",[c.F.required]),this.actionFormControl=new c.g("",[c.F.required]),this.valueSelectionFormControl=new c.g("",[c.F.required])}return e.prototype.ngOnInit=function(){var e=this;this.loadRouter(),this.loadActions(),this.elementCreationFormGroup=this.formBuilder.group({routerFormControl:this.routerFormControl,actionFormControl:this.actionFormControl}),this.routerFormControl.valueChanges.pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){e.data.router=t,e.roleService.getKeysByRouter(t).pipe(Object(r.a)(e.unsubscribe)).subscribe((function(t){t&&(e.key=t.key,e.validKeyOnly=!0)}),(function(t){e.validKeyOnly=!1,e.valueSelectionFormControl.setValue(null),e.data.values=[]}))})),this.actionFormControl.valueChanges.pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){e.data.action=t}))},e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.prototype.loadRouter=function(){var e=this;this.roleService.getRoleRouters().pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.routers=t.routersAvailable,e.data.router&&e.routerFormControl.setValue(e.data.router))}),(function(e){l.a.printError(e)}))},e.prototype.loadActions=function(){var e=this;this.roleService.getRoleActions().pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.actions=t.actionsAvailable,e.data.action&&e.actionFormControl.setValue(e.data.action))}),(function(e){l.a.printError(e)}))},e.prototype.addValue=function(e){this.valueSelectionFormControl.valid&&(this.data.values&&!this.data.values.includes(e)?this.data.values.push(e):this.data.values=[e])},e.prototype.removeValue=function(e){this.data.values.splice(this.data.values.indexOf(e),1)},e.prototype.onCancel=function(){this.dialogRef.close()},e.prototype.onSave=function(e){this.elementCreationFormGroup.valid&&this.validateData(e)&&(this.loadIdentifiedBy(),this.dialogRef.close(e))},e.prototype.validateData=function(e){if(this.data.role)return!0;var t=this.data.roles.filter((function(t){return t.router===e.router||"ALL"===t.router||"ALL"===e.router})).filter((function(t){return t.action===e.action||"ALL"===t.action}));return!t.length||(this.toastService.showError("This role has conflicted with an existing role: "+t[0].router+" - "+t[0].action),!1)},e.prototype.loadIdentifiedBy=function(){this.data.values.length?this.data.identifiedBy=this.key:(this.data.identifiedBy="",this.data.values=[])},e.\u0275fac=function(t){return new(t||e)(s.Sb(oe.h),s.Sb(oe.a),s.Sb(ie),s.Sb(c.f),s.Sb(v.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-team-role-create"]],viewQuery:function(e,t){var n;1&e&&s.Jc(H.i,!0),2&e&&s.Bc(n=s.lc())&&(t.componentValueSelection=n.first)},decls:48,vars:9,consts:[["mat-dialog-title",""],["role","toolbar",1,"dialog-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["mat-list-icon",""],["mat-dialog-content",""],[1,"header","activated"],[1,"header-container"],[1,"description"],[3,"formGroup"],[1,"strategy-style"],["placeholder","Component",3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],["placeholder","Permission",3,"formControl"],[1,"description-values"],[2,"overflow-y","scroll","height","100px"],["componentValueSelection",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Selected","maxlength","20","autocomplete","off",3,"formControl"],["inputValue",""],[1,"strategy-values-control"],["mat-button","",1,"btn-element",3,"disabled","click"],["mat-dialog-actions","",2,"float","right"],["mat-button","",1,"btn-save",3,"click"],[1,"options-section-label"],["mat-button","",1,"btn-cancel",3,"click"],[3,"value","disabled"],[3,"value"]],template:function(e,t){if(1&e){var n=s.Zb();s.Yb(0,"h4",0),s.Yb(1,"mat-toolbar",1),s.Yb(2,"span"),s.Nc(3,"New Role"),s.Xb(),s.Tb(4,"span",2),s.Yb(5,"button",3),s.kc("click",(function(){return t.onCancel()})),s.Yb(6,"mat-icon",4),s.Nc(7,"close"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(8,"div",5),s.Yb(9,"section",6),s.Yb(10,"div",7),s.Yb(11,"div",8),s.Yb(12,"form",9),s.Yb(13,"div"),s.Yb(14,"mat-form-field",10),s.Yb(15,"mat-select",11),s.Lc(16,de,2,3,"mat-option",12),s.Xb(),s.Xb(),s.Yb(17,"mat-form-field",10),s.Yb(18,"mat-select",13),s.Lc(19,be,2,3,"mat-option",12),s.Xb(),s.Xb(),s.Xb(),s.Yb(20,"div",14),s.Yb(21,"mat-card"),s.Yb(22,"mat-card-header"),s.Yb(23,"mat-card-subtitle"),s.Nc(24,"Component specification"),s.Xb(),s.Xb(),s.Yb(25,"mat-card-content",15),s.Yb(26,"mat-selection-list",null,16),s.Lc(28,pe,2,2,"mat-list-option",17),s.Xb(),s.Xb(),s.Yb(29,"mat-form-field"),s.Tb(30,"input",18,19),s.Xb(),s.Yb(32,"div",20),s.Yb(33,"button",21),s.kc("click",(function(){s.Ec(n);var e=s.Cc(31);return t.addValue(e.value)})),s.Nc(34,"Add"),s.Xb(),s.Yb(35,"button",21),s.kc("click",(function(){s.Ec(n);var e=s.Cc(27);return t.removeValue(null==e.selectedOptions.selected[0]?null:e.selectedOptions.selected[0].value)})),s.Nc(36,"Remove"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(37,"div",22),s.Yb(38,"button",23),s.kc("click",(function(){return t.onSave(t.data)})),s.Yb(39,"mat-icon"),s.Nc(40,"save"),s.Xb(),s.Yb(41,"div",24),s.Nc(42," Save"),s.Xb(),s.Xb(),s.Yb(43,"button",25),s.kc("click",(function(){return t.onCancel()})),s.Yb(44,"mat-icon"),s.Nc(45,"close"),s.Xb(),s.Yb(46,"div",24),s.Nc(47," Close"),s.Xb(),s.Xb(),s.Xb()}if(2&e){var a=s.Cc(27),o=s.Cc(31);s.Db(12),s.uc("formGroup",t.elementCreationFormGroup),s.Db(3),s.uc("formControl",t.routerFormControl),s.Db(1),s.uc("ngForOf",t.routers),s.Db(2),s.uc("formControl",t.actionFormControl),s.Db(1),s.uc("ngForOf",t.actions),s.Db(9),s.uc("ngForOf",t.data.values),s.Db(2),s.uc("formControl",t.valueSelectionFormControl),s.Db(3),s.uc("disabled",0===o.value.length||!t.validKeyOnly),s.Db(2),s.uc("disabled",!(null!=a.selectedOptions.selected[0]&&a.selectedOptions.selected[0].value))}},directives:[oe.i,re.a,Y.b,V.a,H.c,oe.f,c.H,c.s,c.j,S.c,ce.a,c.r,c.h,a.t,le.a,le.f,le.l,le.d,H.i,D.b,c.c,c.m,oe.c,se.n,H.f],styles:[".header.activated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#549bfb 0,#549bfb 10px,#f7f7f7 0,#fff) no-repeat}.header.deactivated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#9e9e9e 0,#9e9e9e 10px,#f7f7f7 0,#fff) no-repeat}.header.editing[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f33 0,#f33 10px,#fff 0,#fff) no-repeat}.header[_ngcontent-%COMP%]{border-radius:2px;border:1px solid #eaeaea;font-size:16px;color:#666}.header-container[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.detail-body[_ngcontent-%COMP%]{padding-top:20px}.detail-body.loading[_ngcontent-%COMP%]{opacity:0}.detail-body.ready[_ngcontent-%COMP%]{opacity:1}.description[_ngcontent-%COMP%]{display:grid;align-self:start}.options-section[_ngcontent-%COMP%]{float:right;display:-webkit-inline-box}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}.btn-element[_ngcontent-%COMP%]{background:#549bfb}.btn-element[_ngcontent-%COMP%], .btn-element.save[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block ruby;font-size:16px;margin-top:7px;margin-left:10px;color:#fff}.btn-element.save[_ngcontent-%COMP%]{background:#2ec454}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-container[_ngcontent-%COMP%]{display:block;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.description[_ngcontent-%COMP%]{display:grid;align-self:start;width:90%!important}}@media only screen and (max-width:450px){.options-section[_ngcontent-%COMP%]{display:grid;float:none}}",".header-create[_ngcontent-%COMP%]{background:linear-gradient(90deg,#549bfb 0,#549bfb,#5298ff 10px,#fff) no-repeat;color:#fff;padding:10px}.header[_ngcontent-%COMP%], .header-create[_ngcontent-%COMP%]{border-radius:20px}.description[_ngcontent-%COMP%]{width:90%}.btn-cancel[_ngcontent-%COMP%]{background:#8e8e8e;color:#fff}.btn-save[_ngcontent-%COMP%]{background:#549bfb;color:#fff}.mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}",".strategy-values-control[_ngcontent-%COMP%]{display:flex}.description-values[_ngcontent-%COMP%]{display:grid;align-self:start;padding-bottom:20px}.options-section-label[_ngcontent-%COMP%]{vertical-align:baseline!important;display:contents}"]}),e}();function ue(e,t){1&e&&s.Tb(0,"span",9)}function ge(e,t){1&e&&s.Tb(0,"th",27)}function fe(e,t){if(1&e){var n=s.Zb();s.Yb(0,"td",28),s.Yb(1,"button",29),s.kc("click",(function(){s.Ec(n);var e=t.$implicit;return s.oc(2).removeRole(e)})),s.Yb(2,"mat-icon",30),s.Nc(3,"close"),s.Xb(),s.Xb(),s.Xb()}if(2&e){var a=s.oc(2);s.Db(1),s.uc("disabled",!a.removable)}}function he(e,t){1&e&&s.Tb(0,"th",31)}function ve(e,t){if(1&e){var n=s.Zb();s.Yb(0,"td",28),s.Yb(1,"button",29),s.kc("click",(function(){s.Ec(n);var e=t.$implicit;return s.oc(2).editRole(e)})),s.Nc(2," Edit "),s.Xb(),s.Xb()}if(2&e){var a=s.oc(2);s.Db(1),s.uc("disabled",!a.updatable)}}function ye(e,t){1&e&&(s.Yb(0,"th",32),s.Nc(1,"Component"),s.Xb())}function Ce(e,t){if(1&e&&(s.Yb(0,"td",33),s.Nc(1),s.Xb()),2&e){var n=t.$implicit;s.Db(1),s.Oc(n.router)}}function Oe(e,t){1&e&&(s.Yb(0,"th",32),s.Nc(1,"Permission"),s.Xb())}function xe(e,t){if(1&e&&(s.Yb(0,"td",34),s.Nc(1),s.Xb()),2&e){var n=t.$implicit,a=s.oc(2);s.Db(1),s.Oc(a.formatContent(n.action))}}function Me(e,t){1&e&&s.Tb(0,"th",32)}function ke(e,t){if(1&e){var n=s.Zb();s.Yb(0,"td",35),s.Yb(1,"mat-slide-toggle",36),s.kc("change",(function(e){s.Ec(n);var a=t.$implicit;return s.oc(2).updateStatus(a,e)})),s.Xb(),s.Xb()}if(2&e){var a=t.$implicit,o=s.oc(2);s.Db(1),s.uc("checked",a.active)("disabled",!o.updatable)}}function we(e,t){1&e&&s.Tb(0,"tr",37)}function Pe(e,t){1&e&&s.Tb(0,"tr",38)}var _e=function(){return[5,10,25,50]};function Se(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",10),s.Yb(1,"table",11),s.kc("matSortChange",(function(e){return s.Ec(n),s.oc().sortData(e)})),s.Wb(2,12),s.Lc(3,ge,1,0,"th",13),s.Lc(4,fe,4,1,"td",14),s.Vb(),s.Wb(5,15),s.Lc(6,he,1,0,"th",16),s.Lc(7,ve,3,1,"td",14),s.Vb(),s.Wb(8,17),s.Lc(9,ye,2,0,"th",18),s.Lc(10,Ce,2,1,"td",19),s.Vb(),s.Wb(11,20),s.Lc(12,Oe,2,0,"th",18),s.Lc(13,xe,2,1,"td",21),s.Vb(),s.Wb(14,22),s.Lc(15,Me,1,0,"th",18),s.Lc(16,ke,2,2,"td",23),s.Vb(),s.Lc(17,we,1,0,"tr",24),s.Lc(18,Pe,1,0,"tr",25),s.Xb(),s.Tb(19,"mat-paginator",26),s.Xb()}if(2&e){var a=s.oc();s.Db(1),s.uc("dataSource",a.dataSource),s.Db(16),s.uc("matHeaderRowDef",a.dataColumns),s.Db(1),s.uc("matRowDefColumns",a.dataColumns),s.Db(1),s.uc("pageSizeOptions",s.xc(4,_e))}}var De=function(){function e(e,t,n){this.roleService=e,this.toastService=t,this.dialog=n,this.unsubscribe=new i.a,this.dataColumns=["remove","edit","router","action","active"],this.updatable=!1,this.creatable=!1,this.removable=!1,this.loading=!1}return e.prototype.ngOnInit=function(){this.loadRoles()},e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.prototype.loadRoles=function(){var e=this;this.loading=!0,this.roleService.getRolesByTeam(this.team._id).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.roles=t,e.loadDataSource(e.roles))}),(function(t){l.a.printError(t),e.loading=!1}),(function(){e.loading=!1}))},e.prototype.loadDataSource=function(e){this.dataSource=new B.o(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},e.prototype.applyFilter=function(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()},e.prototype.editRole=function(e){var t=this,n=JSON.parse(JSON.stringify(e));this.dialog.open(me,{width:"400px",data:{roles:this.dataSource.data,router:n.router,action:n.action,values:n.values,identifiedBy:n.identifiedBy,role:n}}).afterClosed().subscribe((function(n){n&&t.roleService.updateRole(e._id,n.action,n.router,n.identifiedBy).pipe(Object(r.a)(t.unsubscribe)).subscribe((function(e){e&&t.roleService.updateRoleValues(e._id,n.values).pipe(Object(r.a)(t.unsubscribe)).subscribe((function(e){e&&(t.loadRoles(),t.toastService.showSuccess("Role updated with success"))}))}))}))},e.prototype.removeRole=function(e){var t=this;this.blockUI.start("Removing role..."),this.roleService.deleteRole(e._id).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(n){n&&(t.roles.splice(t.roles.indexOf(e),1),t.loadDataSource(t.roles),t.blockUI.stop(),t.toastService.showSuccess("Role removed with success"))}),(function(e){t.blockUI.stop(),l.a.printError(e)}))},e.prototype.createRole=function(){var e=this;this.dialog.open(me,{width:"400px",data:{roles:this.dataSource.data,values:[]}}).afterClosed().subscribe((function(t){t&&e.roleService.createRole(e.team._id,t.action,t.router,t.identifiedBy,t.values).pipe(Object(r.a)(e.unsubscribe)).subscribe((function(t){t&&(e.loadRoles(),e.toastService.showSuccess("Role created with success"))}))}))},e.prototype.updateStatus=function(e,t){var n=this;this.blockUI.start("Updating status..."),this.roleService.updateRole(e._id,e.action,e.router,e.identifiedBy,t.checked).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(e){e&&n.toastService.showSuccess("Role updated with success")}),(function(e){n.toastService.showError("Permission denied"),l.a.printError(e),n.blockUI.stop()}),(function(){n.blockUI.stop()}))},e.prototype.formatContent=function(e){return window.screen.width<380?e.substring(0,3):e},e.prototype.sortData=function(e){var t,n=this,a=this.roles.slice();e.active&&""!==e.direction?(t=a.sort((function(t,a){var o="asc"===e.direction;switch(e.active){case"router":return n.compare(t.router,a.router,o);case"action":return n.compare(t.action,a.action,o);case"active":return n.compare(t.active?"true":"false",a.active?"true":"false",o);default:return 0}})),this.loadDataSource(t)):t=a},e.prototype.compare=function(e,t,n){return(e<t?-1:1)*(n?1:-1)},e.\u0275fac=function(t){return new(t||e)(s.Sb(ie),s.Sb(v.a),s.Sb(oe.b))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-team-roles"]],viewQuery:function(e,t){var n;1&e&&(s.Jc(z.a,!0),s.Jc(N.a,!0)),2&e&&(s.Bc(n=s.lc())&&(t.sort=n.first),s.Bc(n=s.lc())&&(t.paginator=n.first))},inputs:{team:"team",updatable:"updatable",creatable:"creatable",removable:"removable"},decls:12,vars:3,consts:[[1,"filter-role-style"],["matInput","","placeholder","Filter",3,"keyup"],["inputMember",""],["mat-button","",1,"btn-element",3,"disabled","click"],["width","1em","height","1em","viewBox","0 0 20 20","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"svg-style"],["fill-rule","evenodd","d","M2.102 4.223A3.004 3.004 0 005 8c.27 0 .532-.036.78-.103l6.342 6.252A3.003 3.003 0 0015 18a3 3 0 10-.851-5.878L7.897 5.781A3.004 3.004 0 004.223 2.1l2.141 2.142L6 6l-1.757.364-2.141-2.141zm13.37 9.019L15 13l-.471.242-.529.026-.287.445-.445.287-.026.529L13 15l.242.471.026.529.445.287.287.445.529.026L15 17l.471-.242.529-.026.287-.445.445-.287.026-.529L17 15l-.242-.471-.026-.529-.445-.287-.287-.445-.529-.026z","clip-rule","evenodd"],[2,"text-align","center"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","mat-elevation-z8",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"mat-elevation-z8"],["mat-table","","multiTemplateDataRows","","matSort","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource","matSortChange"],["matColumnDef","remove"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","width: 1px;",4,"matCellDef"],["matColumnDef","edit"],["mat-header-cell","","class","table-header-resize",4,"matHeaderCellDef"],["matColumnDef","router"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","width: 200px;",4,"matCellDef"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["matColumnDef","active"],["mat-cell","","style","width: 1px; vertical-align: baseline;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell","",2,"width","1px"],["mat-icon-button","",3,"disabled","click"],["mat-list-icon",""],["mat-header-cell","",1,"table-header-resize"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"width","200px"],["mat-cell",""],["mat-cell","",2,"width","1px","vertical-align","baseline"],[1,"toggle-style",3,"checked","disabled","change"],["mat-header-row",""],["mat-row","",1,"element-row"]],template:function(e,t){1&e&&(s.Yb(0,"block-ui"),s.Yb(1,"div",0),s.Yb(2,"mat-form-field"),s.Yb(3,"input",1,2),s.kc("keyup",(function(e){return t.applyFilter(e.target.value)})),s.Xb(),s.Xb(),s.Yb(5,"button",3),s.kc("click",(function(){return t.createRole()})),s.nc(),s.Yb(6,"svg",4),s.Tb(7,"path",5),s.Xb(),s.Nc(8,"Create "),s.Xb(),s.Xb(),s.mc(),s.Yb(9,"div",6),s.Lc(10,ue,1,0,"span",7),s.Xb(),s.Lc(11,Se,20,5,"div",8),s.Xb()),2&e&&(s.Db(5),s.uc("disabled",!t.creatable),s.Db(5),s.uc("ngIf",t.loading),s.Db(1),s.uc("ngIf",!t.loading))},directives:[P.b,S.c,D.b,Y.b,a.u,B.n,z.a,B.c,B.i,B.b,B.k,B.m,N.a,B.h,B.a,V.a,H.c,z.b,E.a,B.j,B.l],styles:['.header-section[_ngcontent-%COMP%]{grid-area:header;display:inline-flex;width:400px}.toggle-section[_ngcontent-%COMP%]{grid-area:toggle;display:inline-block;text-align:center}.toggle-section.deactivated[_ngcontent-%COMP%]{display:none}.toggle-style[_ngcontent-%COMP%]{margin-top:14px}.toggle-style.deactivated[_ngcontent-%COMP%]{display:none}.grid-container.activated[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);background:rgba(84,155,251,.58)}.grid-container.activated[_ngcontent-%COMP%], .grid-container.deactivated[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header empty empty empty empty toggle";grid-gap:2px;padding:2px;margin-bottom:10px}.grid-container.deactivated[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);background:#d0d0d0}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff}.btn-element.activated[_ngcontent-%COMP%]{color:#5298ff}.btn-element.activated[_ngcontent-%COMP%], .btn-element.deactivated[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block;font-size:24px;margin-left:0!important;margin-top:7px;margin-bottom:10px;margin-left:20px}.btn-element.deactivated[_ngcontent-%COMP%]{color:#595959}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#b0d2ff}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#549bfb}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-section[_ngcontent-%COMP%]{grid-area:header;display:inline-flex;width:100%}}',".header.activated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#549bfb 0,#549bfb 10px,#f7f7f7 0,#fff) no-repeat}.header.deactivated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#9e9e9e 0,#9e9e9e 10px,#f7f7f7 0,#fff) no-repeat}.header.editing[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f33 0,#f33 10px,#fff 0,#fff) no-repeat}.header[_ngcontent-%COMP%]{border-radius:2px;border:1px solid #eaeaea;font-size:16px;color:#666}.header-container[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.detail-body[_ngcontent-%COMP%]{padding-top:20px}.detail-body.loading[_ngcontent-%COMP%]{opacity:0}.detail-body.ready[_ngcontent-%COMP%]{opacity:1}.description[_ngcontent-%COMP%]{display:grid;align-self:start}.options-section[_ngcontent-%COMP%]{float:right;display:-webkit-inline-box}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}.btn-element[_ngcontent-%COMP%]{background:#549bfb}.btn-element[_ngcontent-%COMP%], .btn-element.save[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block ruby;font-size:16px;margin-top:7px;margin-left:10px;color:#fff}.btn-element.save[_ngcontent-%COMP%]{background:#2ec454}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-container[_ngcontent-%COMP%]{display:block;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.description[_ngcontent-%COMP%]{display:grid;align-self:start;width:90%!important}}@media only screen and (max-width:450px){.options-section[_ngcontent-%COMP%]{display:grid;float:none}}",".filter-role-style[_ngcontent-%COMP%]{white-space:nowrap;display:block ruby;padding-top:10px}@media only screen and (max-width:420px){.mat-elevation-z8[_ngcontent-%COMP%]{display:grid}.table-header-resize[_ngcontent-%COMP%]{width:80px}}"]}),Object(b.c)([Object(P.a)()],e.prototype,"blockUI",void 0),e}();function Ee(e,t){1&e&&(s.Yb(0,"mat-error"),s.Nc(1," Name must contains at least 2 characters "),s.Xb())}function Ye(e,t){1&e&&(s.Yb(0,"mat-error"),s.Nc(1," Name is "),s.Yb(2,"strong"),s.Nc(3,"required"),s.Xb(),s.Xb())}function Xe(e,t){1&e&&s.Tb(0,"span",19)}function Te(e,t){if(1&e&&s.Tb(0,"app-team-members",24),2&e){var n=s.oc(2);s.uc("team",n.getTeam())("creatable",n.creatable)("updatable",n.updatable)("removable",n.removable)}}function Ie(e,t){if(1&e&&s.Tb(0,"app-team-roles",24),2&e){var n=s.oc(2);s.uc("team",n.getTeam())("creatable",n.creatable)("updatable",n.updatable)("removable",n.removable)}}function Le(e,t){1&e&&(s.Yb(0,"div"),s.Yb(1,"ngb-tabset",20),s.Yb(2,"ngb-tab",21),s.Lc(3,Te,1,4,"ng-template",22),s.Xb(),s.Yb(4,"ngb-tab",23),s.Lc(5,Ie,1,4,"ng-template",22),s.Xb(),s.Xb(),s.Xb()),2&e&&(s.Db(1),s.uc("activeId",1))}var je=function(){return{color:"black"}},Ue=function(){function e(e,t,n,a,o,r,l,s){this.domainRouteService=e,this.adminService=t,this.route=n,this.team=a,this.domainService=o,this.teamService=r,this.toastService=l,this.router=s,this.unsubscribe=new i.a,this.nameFormControl=new c.g("",[c.F.required,c.F.minLength(2)]),this.updatable=!1,this.removable=!1,this.creatable=!1,this.loading=!1,this.editing=!1}return e.prototype.ngOnInit=function(){var e=this;this.loading=!0,this.route.paramMap.pipe(Object(U.a)((function(){return window.history.state}))).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t.team?(localStorage.setItem(o.b.SELECTED_TEAM,t.team),e.readPermissionToObject(JSON.parse(t.team)),e.loadDomain(e.team.domain)):(e.readPermissionToObject(JSON.parse(localStorage.getItem(o.b.SELECTED_TEAM))),e.loadDomain(e.team.domain))}))},e.prototype.loadDomain=function(e){var t=this;this.nameFormControl.setValue(this.team.name),this.setHeaderStyle(),this.domainService.getDomain(e).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(e){e&&(t.domain=e)}),(function(e){l.a.printError(e)}),(function(){t.loading=!1}))},e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.prototype.readPermissionToObject=function(e){var t=this,n=this.domainRouteService.getPathElement(o.b.SELECTED_DOMAIN);this.adminService.readCollabPermission(n.id,["CREATE","UPDATE","DELETE"],"ADMIN","name",n.name).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(e){e.length&&e.forEach((function(e){"UPDATE"===e.action?t.updatable="ok"===e.result:"DELETE"===e.action?t.removable="ok"===e.result:"CREATE"===e.action&&(t.creatable="ok"===e.result)}))})),e&&(this.team=e)},e.prototype.getTeam=function(){return this.team},e.prototype.edit=function(){var e=this;this.editing?this.nameFormControl.valid&&(this.editing=!1,this.blockUI.start("Updating Team..."),this.teamService.updateTeam(this.team._id,this.nameFormControl.value,this.team.active?"true":"false").pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.team=t,e.setHeaderStyle(),e.blockUI.stop(),e.toastService.showSuccess("Team updated with success"))}),(function(t){e.blockUI.stop(),l.a.printError(t),e.toastService.showError("Unable to update team: '"+e.team.name+"'")}))):(this.editing=!0,this.setHeaderStyle())},e.prototype.changeStatus=function(e){var t=this;this.blockUI.start("Updating status..."),this.teamService.updateTeam(this.team._id,this.team.name,e.checked?"true":"false").pipe(Object(r.a)(this.unsubscribe)).subscribe((function(e){e&&(t.team=e,t.setHeaderStyle(),t.blockUI.stop(),t.toastService.showSuccess("Team updated with success"))}),(function(e){t.blockUI.stop(),l.a.printError(e),t.toastService.showError("Unable to update team: '"+t.team.name+"'")}))},e.prototype.removeTeam=function(){var e=this;this.blockUI.start("Removing team..."),this.teamService.deleteTeam(this.team._id).pipe(Object(r.a)(this.unsubscribe)).subscribe((function(t){t&&(e.blockUI.stop(),e.router.navigate(["/dashboard/domain/team"]),e.toastService.showSuccess("Team removed with success"))}),(function(t){e.blockUI.stop(),l.a.printError(t),e.toastService.showError("Unable to remove team: '"+e.team.name+"'")}))},e.prototype.setHeaderStyle=function(){this.classStatus=this.editing?"header editing":this.team.active?"header activated":"header deactivated"},e.\u0275fac=function(t){return new(t||e)(s.Sb(h.a),s.Sb(d.a),s.Sb(_.a),s.Sb(F),s.Sb(R.a),s.Sb(f),s.Sb(v.a),s.Sb(_.b))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-team-detail"]],decls:30,vars:17,consts:[[2,"padding-top","20px"],[3,"ngClass"],[1,"header-container"],[1,"description",2,"width","350px"],["matInput","","placeholder","Name","autocomplete","off",3,"readonly","ngStyle","formControl"],[4,"ngIf"],["matInput","","placeholder","Domain Name","readonly","",3,"value"],[1,"options-section"],[1,"toggle-section"],[3,"checked","ngClass","disabled","change"],["mat-button","",3,"ngClass","disabled","click"],["width","1em","height","1em","viewBox","0 0 20 20","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"svg-style"],["fill-rule","evenodd","d","M2.102 4.223A3.004 3.004 0 005 8c.27 0 .532-.036.78-.103l6.342 6.252A3.003 3.003 0 0015 18a3 3 0 10-.851-5.878L7.897 5.781A3.004 3.004 0 004.223 2.1l2.141 2.142L6 6l-1.757.364-2.141-2.141zm13.37 9.019L15 13l-.471.242-.529.026-.287.445-.445.287-.026.529L13 15l.242.471.026.529.445.287.287.445.529.026L15 17l.471-.242.529-.026.287-.445.445-.287.026-.529L17 15l-.242-.471-.026-.529-.445-.287-.287-.445-.529-.026z","clip-rule","evenodd"],[1,"options-section-label"],["mat-button","",1,"btn-element","btn-remove",3,"disabled","click"],["d","M7.5 7.5A.5.5 0 018 8v6a.5.5 0 01-1 0V8a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V8a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V8z"],["fill-rule","evenodd","d","M16.5 5a1 1 0 01-1 1H15v9a2 2 0 01-2 2H7a2 2 0 01-2-2V6h-.5a1 1 0 01-1-1V4a1 1 0 011-1H8a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM6.118 6L6 6.059V15a1 1 0 001 1h6a1 1 0 001-1V6.059L13.882 6H6.118zM4.5 5V4h11v1h-11z","clip-rule","evenodd"],[2,"text-align","center"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[3,"activeId"],["title","Members","id","1"],["ngbTabContent",""],["title","Roles","id","2"],[3,"team","creatable","updatable","removable"]],template:function(e,t){1&e&&(s.Yb(0,"block-ui"),s.Yb(1,"div",0),s.Yb(2,"section",1),s.Yb(3,"div",2),s.Yb(4,"div",3),s.Yb(5,"mat-form-field"),s.Tb(6,"input",4),s.Xb(),s.Lc(7,Ee,2,0,"mat-error",5),s.Lc(8,Ye,4,0,"mat-error",5),s.Yb(9,"div",3),s.Yb(10,"mat-form-field"),s.Tb(11,"input",6),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(12,"section",7),s.Yb(13,"div",8),s.Yb(14,"mat-slide-toggle",9),s.kc("change",(function(e){return t.changeStatus(e)})),s.Xb(),s.Xb(),s.Yb(15,"button",10),s.kc("click",(function(){return t.edit()})),s.nc(),s.Yb(16,"svg",11),s.Tb(17,"path",12),s.Xb(),s.mc(),s.Yb(18,"div",13),s.Nc(19),s.Xb(),s.Xb(),s.Yb(20,"button",14),s.kc("click",(function(){return t.removeTeam()})),s.nc(),s.Yb(21,"svg",11),s.Tb(22,"path",15),s.Tb(23,"path",16),s.Xb(),s.mc(),s.Yb(24,"div",13),s.Nc(25,"Remove"),s.Xb(),s.Xb(),s.Xb(),s.Yb(26,"section",0),s.Yb(27,"div",17),s.Lc(28,Xe,1,0,"span",18),s.Xb(),s.Lc(29,Le,6,1,"div",5),s.Xb(),s.Xb(),s.Xb()),2&e&&(s.Db(2),s.uc("ngClass",t.classStatus),s.Db(4),s.vc("readonly",!t.editing),s.uc("ngStyle",t.editing?s.xc(16,je):"")("formControl",t.nameFormControl),s.Db(1),s.uc("ngIf",t.nameFormControl.hasError("minlength")),s.Db(1),s.uc("ngIf",t.nameFormControl.hasError("required")),s.Db(3),s.uc("value",null==t.domain?null:t.domain.name),s.Db(3),s.uc("checked",t.getTeam().active)("ngClass",t.updatable?"toggle-style":"toggle-style deactivated")("disabled",!t.updatable),s.Db(1),s.uc("ngClass",t.editing?"btn-element save btn-edit":"btn-element btn-edit")("disabled",!t.updatable),s.Db(4),s.Oc(t.editing?"Save":"Edit"),s.Db(1),s.uc("disabled",!t.removable),s.Db(8),s.uc("ngIf",t.loading),s.Db(1),s.uc("ngIf",!t.loading))},directives:[P.b,a.r,S.c,D.b,c.c,a.x,c.r,c.h,a.u,E.a,Y.b,S.b,A.N,A.K,A.L,ae,De],styles:['.header-section[_ngcontent-%COMP%]{grid-area:header;display:inline-flex;width:400px}.toggle-section[_ngcontent-%COMP%]{grid-area:toggle;display:inline-block;text-align:center}.toggle-section.deactivated[_ngcontent-%COMP%]{display:none}.toggle-style[_ngcontent-%COMP%]{margin-top:14px}.toggle-style.deactivated[_ngcontent-%COMP%]{display:none}.grid-container.activated[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);background:rgba(84,155,251,.58)}.grid-container.activated[_ngcontent-%COMP%], .grid-container.deactivated[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header empty empty empty empty toggle";grid-gap:2px;padding:2px;margin-bottom:10px}.grid-container.deactivated[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);background:#d0d0d0}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff}.btn-element.activated[_ngcontent-%COMP%]{color:#5298ff}.btn-element.activated[_ngcontent-%COMP%], .btn-element.deactivated[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block;font-size:24px;margin-left:0!important;margin-top:7px;margin-bottom:10px;margin-left:20px}.btn-element.deactivated[_ngcontent-%COMP%]{color:#595959}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#b0d2ff}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#549bfb}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-section[_ngcontent-%COMP%]{grid-area:header;display:inline-flex;width:100%}}',".header.activated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#549bfb 0,#549bfb 10px,#f7f7f7 0,#fff) no-repeat}.header.deactivated[_ngcontent-%COMP%]{background:linear-gradient(90deg,#9e9e9e 0,#9e9e9e 10px,#f7f7f7 0,#fff) no-repeat}.header.editing[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f33 0,#f33 10px,#fff 0,#fff) no-repeat}.header[_ngcontent-%COMP%]{border-radius:2px;border:1px solid #eaeaea;font-size:16px;color:#666}.header-container[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.detail-body[_ngcontent-%COMP%]{padding-top:20px}.detail-body.loading[_ngcontent-%COMP%]{opacity:0}.detail-body.ready[_ngcontent-%COMP%]{opacity:1}.description[_ngcontent-%COMP%]{display:grid;align-self:start}.options-section[_ngcontent-%COMP%]{float:right;display:-webkit-inline-box}.svg-style[_ngcontent-%COMP%]{margin-right:6px;margin-bottom:6px;font-size:large}.btn-element[_ngcontent-%COMP%]{background:#549bfb}.btn-element[_ngcontent-%COMP%], .btn-element.save[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;display:block ruby;font-size:16px;margin-top:7px;margin-left:10px;color:#fff}.btn-element.save[_ngcontent-%COMP%]{background:#2ec454}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(0,0,0,.3)}@media only screen and (max-width:1200px){.header-container[_ngcontent-%COMP%]{display:block;flex-flow:row;justify-content:space-between;margin-left:20px;margin-top:10px}.description[_ngcontent-%COMP%]{display:grid;align-self:start;width:90%!important}}@media only screen and (max-width:450px){.options-section[_ngcontent-%COMP%]{display:grid;float:none}}",".btn-remove[_ngcontent-%COMP%]{background:#fb5454;display:block ruby;margin-right:20px}.btn-edit[_ngcontent-%COMP%]{display:block ruby!important}.options-section-label[_ngcontent-%COMP%]{vertical-align:baseline!important;display:contents}.options-section[_ngcontent-%COMP%]{display:flex}.toggle-section[_ngcontent-%COMP%]{margin:auto;display:block}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#b0d2ff}[_nghost-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#549bfb}"]}),Object(b.c)([Object(P.a)()],e.prototype,"blockUI",void 0),e}(),Fe=[{path:"",component:w,canActivate:[j.a]},{path:"detail",component:Ue,canActivate:[j.a]}],Re=function(){function e(){}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[_.f.forChild(Fe)],_.f]}),e}(),Ae=n("VkXI"),ze=n("zPjY"),Ne=n("ZiY4"),Be=n("Ux3T"),Ve=n("FqGj"),He=n("HHjO"),qe=n("vTtU"),Ge=n("FZ+F"),Je=function(){function e(){}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},providers:[F],imports:[[a.c,c.l,c.B,A.q,Re,Ae.g,Y.c,E.b,S.e,ce.b,S.e,D.c,ze.c,H.e,le.j,se.o,oe.g,Ne.b,Be.g,V.b,B.p,z.c,N.b,Ve.b,re.b,P.d.forRoot()]]}),e}();s.Gc(w,[a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,c.H,c.w,c.G,c.c,c.x,c.A,c.a,c.D,c.E,c.z,c.r,c.s,c.C,c.n,c.m,c.y,c.b,c.d,c.u,c.v,c.t,c.h,c.j,c.i,c.k,c.e,A.a,A.z,A.C,A.A,A.B,A.D,A.c,A.d,A.f,A.H,A.G,A.e,A.J,A.g,A.h,A.o,A.i,A.j,A.m,A.l,A.k,A.r,A.s,A.t,A.u,A.v,A.w,A.x,A.y,A.E,A.F,A.I,A.N,A.K,A.L,A.M,A.O,A.P,A.Q,A.R,A.S,A.n,_.g,_.c,_.e,_.d,_.h,He.b,Ae.c,Ae.d,Ae.a,Ae.f,Ae.e,Ae.b,Y.b,Y.a,E.c,E.a,S.b,S.c,S.f,S.g,S.h,S.i,S.j,ce.a,ce.c,se.n,se.m,qe.b,qe.c,D.b,D.d,ze.e,ze.b,ze.d,ze.a,H.a,H.h,H.d,H.b,se.j,H.c,H.g,se.q,H.i,H.f,Ge.a,le.a,le.f,le.n,le.d,le.m,le.l,le.b,le.e,le.k,le.i,le.h,le.g,le.o,le.c,oe.e,oe.d,oe.i,oe.f,oe.c,Ne.a,Ne.d,Ne.c,Be.d,Be.a,Be.c,Be.e,Be.b,Be.f,V.a,B.n,B.i,B.k,B.c,B.b,B.m,B.e,B.g,B.h,B.a,B.d,B.j,B.l,B.f,B.q,z.a,z.b,N.a,Ve.a,Ve.c,Ve.d,Ve.g,Ve.h,Ve.f,Ve.e,re.a,re.c,P.b,P.e,P.c,w,L,Ue,ae,De,me],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m])}}]);